# üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API endpoints –¥–ª—è Outlivion VPN Mini App.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è](#-–æ–±—â–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
- [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- [Endpoints](#-endpoints)
  - [–¢–∞—Ä–∏—Ñ—ã](#—Ç–∞—Ä–∏—Ñ—ã)
  - [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å](#–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
  - [–ó–∞–∫–∞–∑—ã](#–∑–∞–∫–∞–∑—ã)
  - [–ü–ª–∞—Ç–µ–∂–∏](#–ø–ª–∞—Ç–µ–∂–∏)
  - [–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞](#—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è-–ø—Ä–æ–≥—Ä–∞–º–º–∞)
  - [–ö–æ–Ω–∫—É—Ä—Å](#–∫–æ–Ω–∫—É—Ä—Å)
  - [–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å](#–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)
- [–ö–æ–¥—ã –æ—à–∏–±–æ–∫](#-–∫–æ–¥—ã-–æ—à–∏–±–æ–∫)
- [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](#-–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤)

---

## üîê –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ë–∞–∑–æ–≤—ã–π URL

```
Production: https://my.outlivion.space
Development: http://localhost:3000
```

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

–í—Å–µ –æ—Ç–≤–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:

```json
{
  "ok": true,
  "data": { ... }
}
```

–∏–ª–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ:

```json
{
  "ok": false,
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

### Content-Type

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫:

```
Content-Type: application/json
```

---

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ API endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram initData.

### Telegram initData

Telegram Mini App –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç `initData` —á–µ—Ä–µ–∑ `window.Telegram.WebApp.initData`.

### –ó–∞–≥–æ–ª–æ–≤–∫–∏

–î–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å initData –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

```
Authorization: <telegram_init_data>
```

–∏–ª–∏

```
X-Telegram-Init-Data: <telegram_init_data>
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å initData –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üì° Endpoints

### –¢–∞—Ä–∏—Ñ—ã

#### `GET /api/tariffs`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–æ–≤.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/tariffs
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "tariffs": [
    {
      "id": 1,
      "name": "–ú–µ—Å—è—Ü",
      "duration": 30,
      "price": 299,
      "currency": "RUB",
      "features": ["–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫", "–í—Å–µ —Å–µ—Ä–≤–µ—Ä—ã"]
    }
  ]
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `503` - –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

#### `GET /api/user/status`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/user/status
Authorization: <telegram_init_data>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "status": "active",
  "expiresAt": 1735689600000,
  "usedTraffic": 1073741824,
  "dataLimit": 107374182400
}
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:**

- `ok` (boolean) - –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞
- `status` (string) - –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏: `active`, `disabled`, `not_found`
- `expiresAt` (number | null) - Timestamp –∏—Å—Ç–µ—á–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
- `usedTraffic` (number) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ –≤ –±–∞–π—Ç–∞—Ö
- `dataLimit` (number) - –õ–∏–º–∏—Ç —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –±–∞–π—Ç–∞—Ö

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π initData)
- `503` - –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

#### `GET /api/user/config`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ VPN –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/user/config
Authorization: <telegram_init_data>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "config": {
    "subscriptionUrl": "https://vpn.outlivion.space/sub/...",
    "protocol": "vless",
    "server": "server1.outlivion.space"
  }
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `404` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

#### `GET /api/user/billing`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–∏–ª–ª–∏–Ω–≥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/user/billing
Authorization: <telegram_init_data>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "usedBytes": 1073741824,
  "limitBytes": 107374182400
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

#### `POST /api/user/autorenewal`

–í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–∏.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
POST /api/user/autorenewal
Authorization: <telegram_init_data>
Content-Type: application/json

{
  "enabled": true
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "autorenewal": true
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### –ó–∞–∫–∞–∑—ã

#### `POST /api/orders/create`

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
POST /api/orders/create
Authorization: <telegram_init_data>
Content-Type: application/json

{
  "tariffId": 1,
  "promoCode": "PROMO2024"
}
```

**–ü–æ–ª—è –∑–∞–ø—Ä–æ—Å–∞:**

- `tariffId` (number, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ) - ID —Ç–∞—Ä–∏—Ñ–∞
- `promoCode` (string, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ) - –ü—Ä–æ–º–æ–∫–æ–¥ –¥–ª—è —Å–∫–∏–¥–∫–∏

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "order": {
    "id": 12345,
    "status": "pending",
    "amount": 299,
    "currency": "RUB",
    "paymentUrl": "https://app.request.finance/..."
  }
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–∞—Ä–∏—Ñ
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### –ü–ª–∞—Ç–µ–∂–∏

#### `GET /api/payments/history`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/payments/history
Authorization: <telegram_init_data>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "payments": [
    {
      "id": 12345,
      "amount": 299,
      "currency": "RUB",
      "status": "completed",
      "createdAt": "2025-01-27T10:00:00Z",
      "tariff": {
        "id": 1,
        "name": "–ú–µ—Å—è—Ü",
        "duration": 30
      }
    }
  ]
}
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:**

- `id` (number) - ID –ø–ª–∞—Ç–µ–∂–∞
- `amount` (number) - –°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞
- `currency` (string) - –í–∞–ª—é—Ç–∞
- `status` (string) - –°—Ç–∞—Ç—É—Å: `pending`, `completed`, `failed`
- `createdAt` (string) - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (ISO 8601)
- `tariff` (object) - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞—Ä–∏—Ñ–µ

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

#### `GET /api/referral/summary`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–¥–∫–∏ –ø–æ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/referral/summary
Authorization: <telegram_init_data>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "summary": {
    "totalReferrals": 10,
    "totalTickets": 50,
    "referralLink": "https://t.me/outlivion_bot?start=ref_12345"
  }
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

#### `GET /api/referral/friends`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –¥—Ä—É–∑–µ–π.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/referral/friends
Authorization: <telegram_init_data>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "friends": [
    {
      "id": 12345678,
      "username": "friend1",
      "joinedAt": "2025-01-20T10:00:00Z",
      "ticketsEarned": 5
    }
  ]
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

#### `GET /api/referral/tickets`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–∏–ª–µ—Ç–æ–≤.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/referral/tickets
Authorization: <telegram_init_data>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "tickets": [
    {
      "id": 1,
      "amount": 5,
      "reason": "referral",
      "createdAt": "2025-01-20T10:00:00Z"
    }
  ]
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### –ö–æ–Ω–∫—É—Ä—Å

#### `GET /api/contest/active`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–∫—Ç–∏–≤–Ω–æ–º –∫–æ–Ω–∫—É—Ä—Å–µ.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/contest/active
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "contest": {
    "id": 1,
    "name": "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–æ–Ω–∫—É—Ä—Å",
    "startDate": "2025-01-01T00:00:00Z",
    "endDate": "2025-01-31T23:59:59Z",
    "prize": "iPhone 15 Pro",
    "rules": "..."
  }
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `404` - –ê–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω–∫—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

### –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å

#### `POST /api/admin/auth`

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è (admin initData)

**–ó–∞–ø—Ä–æ—Å:**

```http
POST /api/admin/auth
Authorization: <admin_telegram_init_data>
Content-Type: application/json

{
  "password": "admin_password"
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "token": "admin_session_token"
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

#### `GET /api/admin/contest/participants`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–Ω–∫—É—Ä—Å–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤).

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –¢—Ä–µ–±—É–µ—Ç—Å—è (admin session)

**–ó–∞–ø—Ä–æ—Å:**

```http
GET /api/admin/contest/participants
Cookie: admin_session=<admin_session_token>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "ok": true,
  "participants": [
    {
      "userId": 12345678,
      "username": "user1",
      "tickets": 10,
      "joinedAt": "2025-01-20T10:00:00Z"
    }
  ]
}
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–∞:**

- `200` - –£—Å–ø–µ—à–Ω–æ
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

---

## ‚ùå –ö–æ–¥—ã –æ—à–∏–±–æ–∫

### HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ã

- `200` - –£—Å–ø–µ—à–Ω–æ
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π initData)
- `403` - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
- `404` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `503` - –°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### –§–æ—Ä–º–∞—Ç –æ—à–∏–±–∫–∏

```json
{
  "ok": false,
  "error": "–ü–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
}
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### JavaScript/TypeScript

```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–≤
const response = await fetch('/api/tariffs', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
  },
});

const data = await response.json();
```

```typescript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const initData = window.Telegram.WebApp.initData;

const response = await fetch('/api/user/status', {
  method: 'GET',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': initData,
  },
});

const data = await response.json();
```

```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
const initData = window.Telegram.WebApp.initData;

const response = await fetch('/api/orders/create', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': initData,
  },
  body: JSON.stringify({
    tariffId: 1,
    promoCode: 'PROMO2024',
  }),
});

const data = await response.json();
```

### cURL

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–≤
curl -X GET https://my.outlivion.space/api/tariffs \
  -H "Content-Type: application/json"
```

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X GET https://my.outlivion.space/api/user/status \
  -H "Content-Type: application/json" \
  -H "Authorization: <telegram_init_data>"
```

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
curl -X POST https://my.outlivion.space/api/orders/create \
  -H "Content-Type: application/json" \
  -H "Authorization: <telegram_init_data>" \
  -d '{
    "tariffId": 1,
    "promoCode": "PROMO2024"
  }'
```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è initData** - –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å initData –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ endpoints (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/api/tariffs`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **Rate Limiting** - API –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è API: v1 (–Ω–µ—è–≤–Ω–∞—è)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [README.md](./README.md) - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [TECHNICAL_SPEC.md](./TECHNICAL_SPEC.md) - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-27*
