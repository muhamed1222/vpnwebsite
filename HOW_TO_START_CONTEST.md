# üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å –∫–æ–Ω–∫—É—Ä—Å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –ö–æ–Ω–∫—É—Ä—Å –≤ –ë–î: `starts_at = 2026-01-20T00:00:00Z` (20 —è–Ω–≤–∞—Ä—è)
- –°–µ–π—á–∞—Å: `2026-01-17T19:08:44Z` (17 —è–Ω–≤–∞—Ä—è)
- `getActiveContest` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `starts_at <= now`, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω–∫—É—Ä—Å –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ –∫–æ–Ω–∫—É—Ä—Å–∞

–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∫–æ–Ω–∫—É—Ä—Å **–ø—Ä—è–º–æ —Å–µ–π—á–∞—Å**, –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å `starts_at` –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –∏–ª–∏ –ø—Ä–æ—à–µ–¥—à—É—é –¥–∞—Ç—É.

---

## üìã –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω–∫—É—Ä—Å–∞

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@72.56.93.135
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω–∫—É—Ä—Å–∞
```bash
sqlite3 /root/vpn_bot/data/database.sqlite "SELECT id, title, is_active, starts_at, ends_at, datetime('now') as now FROM contests WHERE is_active = 1;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
550e8400-e29b-41d4-a716-446655440000|üéâ –†–æ–∑—ã–≥—Ä—ã—à Outlivion ‚Äî 10 –ø—Ä–∏–∑–æ–≤!|1|2026-01-20T00:00:00Z|2026-02-20T23:59:59Z|2026-01-17 19:08:44
```

### 3. –ò–∑–º–µ–Ω–∏—Ç—å –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É

**–í–∞—Ä–∏–∞–Ω—Ç A: –ù–∞—á–∞—Ç—å —Å —Ç–µ–∫—É—â–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞**
```bash
sqlite3 /root/vpn_bot/data/database.sqlite "UPDATE contests SET starts_at = datetime('now') WHERE id = '550e8400-e29b-41d4-a716-446655440000';"
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ù–∞—á–∞—Ç—å —Å –Ω–∞—á–∞–ª–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è (00:00:00 UTC)**
```bash
sqlite3 /root/vpn_bot/data/database.sqlite "UPDATE contests SET starts_at = date('now') || 'T00:00:00Z' WHERE id = '550e8400-e29b-41d4-a716-446655440000';"
```

**–í–∞—Ä–∏–∞–Ω—Ç C: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 17 —è–Ω–≤–∞—Ä—è 2026, 00:00:00 UTC)**
```bash
sqlite3 /root/vpn_bot/data/database.sqlite "UPDATE contests SET starts_at = '2026-01-17T00:00:00Z' WHERE id = '550e8400-e29b-41d4-a716-446655440000';"
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–∏–ª–æ—Å—å
```bash
sqlite3 /root/vpn_bot/data/database.sqlite "SELECT id, title, is_active, starts_at, ends_at, datetime('now') as now FROM contests WHERE is_active = 1;"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è):**
```
550e8400-e29b-41d4-a716-446655440000|üéâ –†–æ–∑—ã–≥—Ä—ã—à Outlivion ‚Äî 10 –ø—Ä–∏–∑–æ–≤!|1|2026-01-17T00:00:00Z|2026-02-20T23:59:59Z|2026-01-17 19:08:44
```

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Backend API —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω–∫—É—Ä—Å
```bash
curl -s "https://api.outlivion.space/v1/contest/active" -H "x-admin-api-key: A246123b" | jq '.'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "contest": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "title": "üéâ –†–æ–∑—ã–≥—Ä—ã—à Outlivion ‚Äî 10 –ø—Ä–∏–∑–æ–≤!",
    "starts_at": "2026-01-17T00:00:00Z",
    "ends_at": "2026-02-20T23:59:59Z",
    ...
  }
}
```

### 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Frontend
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- **–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Telegram Mini App):** `https://my.outlivion.space/contest`
- **–î–ª—è –∞–¥–º–∏–Ω–æ–≤:** `https://my.outlivion.space/admin/contest`

–ö–æ–Ω–∫—É—Ä—Å –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–π.

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –ö–æ–Ω–∫—É—Ä—Å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è: `2026-02-20T23:59:59Z` (20 —Ñ–µ–≤—Ä–∞–ª—è)
- –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `starts_at` –Ω–∞ —Å–µ–≥–æ–¥–Ω—è, –∫–æ–Ω–∫—É—Ä—Å –±—É–¥–µ—Ç –¥–ª–∏—Ç—å—Å—è –¥–æ 20 —Ñ–µ–≤—Ä–∞–ª—è
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –∫–æ–Ω–∫—É—Ä—Å –¥–ª–∏–ª—Å—è ~34 –¥–Ω—è

### 2. –û–∫–Ω–æ –∞—Ç—Ä–∏–±—É—Ü–∏–∏ (attribution_window_days)
- –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: `7` –¥–Ω–µ–π
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ–∫—É–ø–∫–∏, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –≤ —Ç–µ—á–µ–Ω–∏–µ 7 –¥–Ω–µ–π –ø–æ—Å–ª–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è, –∑–∞—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
- –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å, –µ—Å–ª–∏ –≤–∞—Å —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Backend API (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- Backend API —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –Ω–∞–ø—Ä—è–º—É—é
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É, –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

### 4. –ö–µ—à Frontend
- Frontend –º–æ–∂–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ 60 —Å–µ–∫—É–Ω–¥
- –ï—Å–ª–∏ –∫–æ–Ω–∫—É—Ä—Å –Ω–µ –ø–æ—è–≤–∏–ª—Å—è —Å—Ä–∞–∑—É, –ø–æ–¥–æ–∂–¥–∏—Ç–µ –º–∏–Ω—É—Ç—É –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

**–†–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç B** (–Ω–∞—á–∞–ª–æ —Å 00:00:00 UTC —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è):

```bash
sqlite3 /root/vpn_bot/data/database.sqlite "UPDATE contests SET starts_at = date('now') || 'T00:00:00Z' WHERE id = '550e8400-e29b-41d4-a716-446655440000';"
```

**–ü–æ—á–µ–º—É:**
- ‚úÖ –ö–æ–Ω–∫—É—Ä—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞—á–∞–ª–∞ –¥–Ω—è (—á–∏—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ)
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –∫–æ–≥–¥–∞ –∫–æ–Ω–∫—É—Ä—Å –Ω–∞—á–∞–ª—Å—è

---

## üìù –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] `starts_at` –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –Ω–∞ —Ç–µ–∫—É—â—É—é –∏–ª–∏ –ø—Ä–æ—à–µ–¥—à—É—é –¥–∞—Ç—É
- [ ] Backend API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω–∫—É—Ä—Å: `curl https://api.outlivion.space/v1/contest/active`
- [ ] Frontend –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–Ω–∫—É—Ä—Å: `https://my.outlivion.space/contest`
- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—É—Ä—Å: `https://my.outlivion.space/admin/contest`
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

---

## üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –ï—Å–ª–∏ Backend API –≤—Å–µ –µ—â–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `starts_at` –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å:
   ```bash
   sqlite3 /root/vpn_bot/data/database.sqlite "SELECT starts_at, datetime('now') as now FROM contests WHERE id = '550e8400-e29b-41d4-a716-446655440000';"
   ```
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `starts_at <= now` (–¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–∞ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–µ)

### –ï—Å–ª–∏ Frontend –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—É—Ä—Å:
1. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+R –∏–ª–∏ Cmd+Shift+R)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 60 —Å–µ–∫—É–Ω–¥ (–∫–µ—à Next.js)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

---

**–ì–æ—Ç–æ–≤–æ!** –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –∫–æ–Ω–∫—É—Ä—Å –±—É–¥–µ—Ç –∞–∫—Ç–∏–≤–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
